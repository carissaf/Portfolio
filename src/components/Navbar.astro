---
const { currPage } = Astro.props;

const links = ['/home', '/about', '/projects']
---

<nav class="flex flex-row justify-between content-center align-center px-32 py-10 fixed w-full font-light z-10 opacity-0 transform -translate-y-5 transition-all duration-700 ease-in-out">
    <a href="/" class="text-3xl content-center">
        <img class="w-9" src="/src/assets/rabbit.svg" alt="Logo">
    </a>

    <div class="self-center flex flex-row text-xl">
        {
            links.map(link => (
            <a class={link === currPage ? "relative ml-10 curr-page" : "relative content-center ml-10 link"} 
            href={link === "/home" ? "/" : link}>
                {link}
            </a>
        ))
        }
    </div>
</nav>

<style>
    .curr-page::before{
        content: '';
        background-color: #FBDD7F;
        position: absolute;
        left: -0.2vw;
        bottom: 0;
        opacity: 50%;
        width: 100%;
        height: 50%;
        z-index: -1;
    }

    .link::before{
        content: '';
        background-color: #FBDD7F;
        position: absolute;
        left: -0.2vw;
        bottom: 0;
        opacity: 0;
        width: 100%;
        height: 10%;
        z-index: -1;
        transition: all .3s ease-in-out;
        /* transition: 0.35s cubic-bezier(0.25, 0.1, 0, 1.5); */
    }

    .link:hover::before {
        opacity: 50%;
        width: 100%;
        bottom: 0;
        height: 50%;
    }
</style>

<script>
    window.addEventListener('DOMContentLoaded', function() {
        const navbar = document.querySelector('nav');
        navbar.classList.remove('opacity-0', '-translate-y-5');
        navbar.classList.add('opacity-1', 'translate-y-0');
    });
</script>
