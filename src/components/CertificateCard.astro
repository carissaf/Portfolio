---
import {Image} from 'astro:assets';
import processImage from "../utils/img-processor";
const {title, url} = Astro.props
---

<div class="border rounded-2xl overflow-clip relative">
    <!--<img alt={title} src={url} class="w-full h-full object-cover object-center -z-1" />-->
    <Image class="w-full h-full object-cover object-center" src={processImage(url)} alt={title} />
    <h3 class="absolute -bottom-8 left-5 text-base font-normal opacity-0 z-10 pr-10">{title}</h3>
</div>

<style>
    *{
        transition: all ease-in-out .3s;
    }

    div::before{
        content: '';
        width: 100%;
        height: 0;
        //background-color: #7FB7D0;
        background-image: linear-gradient(0deg, rgba(127,183,208,0.8), rgba(127,183,208,0));
        //background-image: linear-gradient(0deg, rgba(28,50,91,0.7), rgba(28,50,91,0));
        //background-image: linear-gradient(0deg, rgba(251,221,127,0.7), rgba(251,221,127,0));
        position: absolute;
        bottom: 0;
        z-index: 1;
        opacity: 0;
        transition: all .3s ease-in-out;
    }

    img{
        filter: grayscale(1);
    }

    div:hover img{
        filter: grayscale(0);
        transform: scale(1.01);
    }

    div:hover h3{
        opacity: 1;
        bottom: 1rem;
    }

    div:hover::before {
        opacity: 1;
        height: 30%;
    }

    div:hover{
        //border: none;
    }
</style>

